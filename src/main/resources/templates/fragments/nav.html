<nav class="navbar navbar-expand bg-body-tertiary" style="background-color: #e3f2fd;" data-bs-theme="light">
    <div class="container-fluid">

        <a class="navbar-brand" href="/">
            <img th:src="@{/images/logo.png}" height="70" alt="Health">
        </a>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav nav-underline">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="#">개발중</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        게시판
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="/question/list">자유게시판</a></li>
                        <li><a class="dropdown-item" href="/question/list?category=운동">헬스게시판</a></li>
                        <li><a class="dropdown-item" href="/question/list?category=식단">식단게시판</a></li>
                        <li><a class="dropdown-item" href="/question/list?category=눈바디">눈바디게시판</a></li>
                    </ul>
                </li>
            </ul>

            <div class="ms-auto">
                <div th:if="${userName != null}" class="dropdown">
                    <button class="btn dropdown-toggle d-flex align-items-center gap-2" type="button" id="userMenu" data-bs-toggle="dropdown" aria-expanded="false">
                        <img th:src="${userImage}" height="60" class="rounded-circle me-3" alt="user_image">
                        <span th:text="${userName + '님'}">유저이름</span>
                    </button>

                    <div class="dropdown-menu dropdown-menu-end p-3 shadow-sm"
                         aria-labelledby="userMenu"
                         style="min-width: 320px; border-radius: 8px;">

                        <div class="d-flex">

                            <img th:src="${userImage}" height="60" class="rounded-circle me-3" alt="user_image">

                            <div class="flex-grow-1">

                                <div class="d-flex justify-content-between align-items-center">
                                    <strong th:text="${userName + '님'}">유저이름</strong>
                                    <a href="/member/logout" class="btn btn-sm btn-outline-secondary">로그아웃</a>
                                </div>

                                <div class="small text-muted" th:text="${email}"></div>
                            </div>

                        </div>

                        <div class="border-top mt-2 d-flex text-center small">
                            <a href="/member/setting"
                               class="flex-fill text-decoration-none text-secondary border-end py-2">
                                프로필 설정
                            </a>
                            <a href="/my_post"
                               class="flex-fill text-decoration-none text-secondary border-end py-2">
                                내가 쓴 글
                            </a>
                            <a href="/favorite_post"
                               class="flex-fill text-decoration-none text-secondary py-2">
                                즐겨찾기
                            </a>
                        </div>

                    </div>
                </div>

                <button th:if="${userName == null}"
                        class="btn btn-outline-success"
                        type="button"
                        onclick="location.href='/member/login'">
                    로그인
                </button>

            </div>
        </div>
    </div>
</nav>
