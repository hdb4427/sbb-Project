<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<div layout:fragment="content" class="container my-3">
    <div class="row justify-content-center">
        <div class="col-md-6">

            <h4 class="my-3 border-bottom pb-2">프로필 설정</h4>

            <form th:action="@{/member/setting}" th:object="${memberModifyForm}" method="post" enctype="multipart/form-data">
                <div th:replace="~{form_errors :: formErrorsFragment}"></div>

                <div class="mb-4 text-center">
                    <label class="form-label fw-bold d-block">프로필 사진</label>

                    <img th:src="${userImage}" height="60" class="rounded-circle me-3" alt="user_image">

                    <input type="file" th:field="*{file}" class="form-control form-control-sm mx-auto" style="max-width: 300px;">
                </div>

                <div class="mb-3">
                    <label class="form-label fw-bold">아이디</label>
                    <input type="text" class="form-control" th:value="${#authentication.name}" disabled readonly>
                </div>

                <div class="mb-3">
                    <label for="name" class="form-label fw-bold">이름 (닉네임)</label>
                    <input type="text" th:field="*{name}" class="form-control">
                    <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="fieldError text-danger small mt-1"></p>
                </div>

                <div class="mb-3">
                    <label for="email" class="form-label fw-bold">이메일</label>
                    <input type="email" th:field="*{email}" class="form-control">
                    <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="fieldError text-danger small mt-1"></p>
                </div>

                <div class="mb-3">
                    <label for="department" class="form-label fw-bold">운동 목표</label>
                    <select th:field="*{department}" class="form-select">
                        <option value="DIET">다이어트 (체지방 감량)</option>
                        <option value="BULKUP">벌크업 (근육량 증가)</option>
                        <option value="PROFILE">바디프로필 (단기간 집중)</option>
                        <option value="REHAB">체형교정/재활 (건강 회복)</option>
                        <option value="STAMINA">체력증진 (생존 운동)</option>
                        <option value="POWERLIFTING">파워리프팅 (3대 중량 증가)</option>
                    </select>
                </div>

                <div class="d-grid gap-2 mt-4">
                    <button type="submit" class="btn btn-primary btn-lg">수정 완료</button>
                    <a href="/" class="btn btn-secondary">취소</a>
                </div>
            </form>

        </div>
    </div>
</div>
</html>